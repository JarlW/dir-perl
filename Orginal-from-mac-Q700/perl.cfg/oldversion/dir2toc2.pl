#Tjalles lŠsa Mac folders# 8-nov-97$rootDir='FATSO:perl:tjs';     #MACOS$configFile ='toc.cfg';$tocFile = 'toc.html';print "\nstart....\n";#@dirsUp = split(/:/,$currPath);#for (@dirsUp){#		print "$_\n";#}	opendir(DIR,$rootDir) || die "Can't open current \ndirectory: $rootDir";	@filenames = readdir(DIR);	closedir(DIR);for (@filenames) {chdir $rootDir;	next if $_ eq '.';	next if $_ eq '..';	next if $_ eq 'toc.cfg';				if (!(-d $_)){					open(CurrFILE,$_);					read (CurrFILE,$title,20) ;					close CurrFILE;					print "RF-$_, med titel:$title\n";			}			else{					$t_name = ":$_:$configFile";			#MacOS					open (CF,$t_name);					read (CF,$dirName,20) ;					close CF;					print "RD-$_, med namnet: $dirName \n";					$currPath ="";					$currDir =$_;					$dirinfo=&doFolder($currPath,$currDir);			}	} #filenamesprint "\n....END\n";#subssub doFolder{ local($currPath, $currDir) = @_;# open a dir and read	opendir($currDir,$currDir) || die "Can't open current \ndirectory: $CurrDir";	@$currDir = readdir($currDir);	closedir($currDir);	chdir $currDir;#open a toc.file in curr dir	$tempTocFile = ">$tocFile";	#$TocH = "File$currDir";	open (TOCH, $tempTocFile);print "open $TocH\n";print TOCH &startHtml($currDir);		$a="";			$fullPath="$currPath:$currDir";print "  $fullPath\n";#			@dirsUp = split(/:/,$fullPath);#				for (@dirsUp){	#			 $a ="/$_/$tocFile"; 	#				print TocH "$a\n";			#}			for (@$currDir) {						next if $_ eq '.';						next if $_ eq '..';						next if $_ eq 'toc.cfg';						next if $_ eq 'toc.html';print TOCH "F-$_\n";						if (!(-d $_)){								print "    F-$currPath:$currDir:$_\n";										}						else{								print  "    D-$currPath:$currDir:$_\n";								$nextDir ="$_";								$nextPath ="$currPath:$currDir";								&doFolder($nextPath,$nextDir);						}								} # End forLoop#print "$rootDir$currPath\n\n";print TOCH "\n</BODY></HTML>";print "close $TocH\n";close TOCH;chdir "$rootDir$currPath";} #end SUB doFoldersub startHtml { my($in) = @_;	$out ="<HTML><HEAD><TITLE>toc for-$in</TITLE></HEAD><Body>\n";	return $out;} #end StartHtmlsub endHtml { my($in) = @_;	$out ="\n</BODY></HTML>";	return $out;} #end endHtml